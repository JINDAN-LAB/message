<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jindan.jdy.mapper.ZxingCatalogueMapper">

	<resultMap id="BaseResultMap" type="com.jindan.jdy.common.pojo.ZxingCatalogue">
		<id column="id" property="id" />
		<id column="catalogue_name" property="catalogueName" />
		<id column="insert_time" property="insertTime" />
		<id column="update_time" property="updateTime" />
		<id column="delete_id" property="deleteId" />
	</resultMap>

<!--	ZxingCatalogueDto-->
	<resultMap id="CatalogueDto" type="com.jindan.jdy.common.dto.ZxingCatalogueDto">
		<id column="cid" property="id" />
		<id column="ccatalogue_name" property="catalogueName" />
		<id column="cinsert_time" property="insertTime" />
		<id column="cupdate_time" property="updateTime" />
		<id column="cdelete_id" property="deleteId" />
		<collection property="erweiList" column="id" ofType="com.jindan.jdy.common.pojo.ZxingErwei">
			<id column="id" property="id" />
			<id column="suttle" property="suttle" />
			<id column="standard" property="standard" />
			<id column="tab" property="tab" />
			<id column="kg" property="kg" />
			<id column="type" property="type" />
			<id column="use" property="use" />
			<id column="method" property="method" />
			<id column="scope" property="scope" />
			<id column="condition" property="condition" />
			<id column="notice" property="notice" />
			<id column="beizhu" property="beizhu" />
			<id column="username" property="username" />
			<id column="nametitle" property="nametitle" />
			<id column="queren" property="queren" />
			<id column="hanliang" property="hanliang" />
			<id column="tradename" property="tradename" />
			<id column="ensurevalue" property="ensurevalue" />
			<id column="typeid" property="typeid" />
			<id column="dateproduced" property="dateproduced" />
			<id column="materielcode" property="materielcode" />
			<id column="supplierid" property="supplierid" />
			<id column="guige" property="guige" />
			<id column="suppliertype" property="suppliertype" />
			<id column="sorttype" property="sorttype" />
			<id column="piwen" property="piwen" />
			<id column="insert_time" property="insertTime" />
			<id column="update_time" property="updateTime" />
			<id column="delete_id" property="deleteId" />
			<id column="status" property="status" />
			<result column="grades" property="grades" />
			<result column="specifications" property="specifications" />
			<result column="categorys" property="categorys" />
			<result column="erpcode" property="erpcode" />
			<result column="sapcode" property="sapcode" />
			<result column="baozhuang_grades" property="baozhuangGrades" />
			<result column="suppliers" property="suppliers" />
			<result column="materialcode" property="materialcode" />
			<result column="expirations" property="expirations" />
			<result column="chengfenvalues" property="chengfenvalues" />
			<result column="chengfenvalues" property="chengfenvalues" />
			<result column="tradename" property="tradename" />
		</collection>
	</resultMap>

	<sql id="Base_Column_List">
		id, catalogue_name, insert_time, update_time, delete_id
	</sql>

	<sql id="selectJdyRole">
		<where>
			<if test="catalogueName != null and catalogueName !='' ">
				and zxing_catalogue.catalogue_name = #{catalogueName}
			</if>
			<if test="queren != null and queren !='' ">
				and zxing_erwei.queren = #{queren}
			</if>
			and zxing_catalogue.delete_id='0'
			and zxing_erwei.delete_id='0'
		</where>
	</sql>
<!--	seletelistCatalogueTemplate-->
	<select id="seletelistCatalogueTemplate"  parameterType="com.jindan.jdy.common.dto.ZxingCatalogueDto" resultMap="CatalogueDto">
		select zxing_catalogue.id as cid,
		zxing_catalogue.catalogue_name as ccatalogue_name,
		zxing_catalogue.insert_time as cinsert_time,
		zxing_catalogue.update_time as cupdate_time,
		zxing_catalogue.delete_id as cdelete_id,
		 zxing_erwei.* from zxing_catalogue
		left join  zxing_erwei  on zxing_erwei.typeid = zxing_catalogue.id
		<include refid="selectJdyRole"/>
	</select>

</mapper>